<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <title>Profile page</title>
    <link rel="stylesheet"  href="{% static 'css/style.css' %}">
</head>
<body>
   <nav class="navbar">
    <div class="navbar-left">
        {% load static %}
        <a href="home/" class="logo"><img src="{% static 'img/start.jpg' %}"></a>
        <div class="searchbox">
            <img src="{% static 'img/search.png' %}">
            <input type="text" placeholder="Search">
        </div>
    </div>
    <div class="navbar-center">
        <ul>
            <li class="notification-icon">
                <a href="#" id="notification-button">
                    <img src="{% static 'img/bell.png' %}">
                    <span>Notifications</span>
                </a>
                <!-- Всплывающее окно с уведомлениями -->
                <div id="notification-popup" class="notification-popup">
                    <h4>Notifications</h4>
                    <ul>
                        <li><a href="#">New friend request</a></li>
                        <li><a href="#">Message from John</a></li>
                        <li><a href="#">Your post got a like!</a></li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
    <div class="navbar-right">
        <img src="{{auth_user.profile.image.url}}" class="nav-profile-img" onclick="toggleMenu()">
    </div>
    <div class="profile-menu-wrap" id="profileMenu">
        <div class="profile-menu">
            <div class="user-info">
                <img src="{{auth_user.profile.image.url}}" alt="">
                <div>
                    <h3><a href="/{{auth_user.username}}" class="profile-menu-links">{{auth_user.username}}</a></h3>
                </div>
            </div>
            <a href="#" class="profile-menu-links">
                <img src="{% static 'img/settings.png' %}" alt="">
                <p>Settings</p>
            </a>
            <a href="#" class="profile-menu-links">
                <img src="{% static 'img/logout.png' %}" alt="">
                <p>Logout</p>
            </a>
        </div>
    </div>

   </nav>
   <div class="container">
    <div class="main">
         <a href="/home/tweet"><div class="post">
            <div class="post-author">
                <img src="{{ tweet.author.profile.image.url }}">
                <div>
                   <h1>Eblan</h1>
                    <small>date</small>
                </div>
            </div>
            <div class="post-content">
                Sosal
            </div>
            <div class="post-stats">
                <div>
                    <span>0 likes</span>
                </div>
            </div>
            <div class="post-activity">
                <div class="post-activity-link">
                    <img src="{% static 'img/like.png' %}" alt="">
                    <span>Like</span>
                </div>
            </div>
        </div></a>
        <div class="comment-section">
            
        </div>
    </div>
</div>

<script>
    let profileMenu = document.getElementById("profileMenu");
    function toggleMenu(){
        profileMenu.classList.toggle("open-menu");
    }

    // Функция для открытия/закрытия меню профиля
    function toggleMenu() {
        var menu = document.getElementById("profileMenu");
        menu.classList.toggle("open-menu");
    }

    // Закрываем меню при клике вне его
    document.addEventListener("click", function(event) {
    var menu = document.getElementById("profileMenu");
    var profileImage = document.querySelector(".nav-profile-img");
    // Проверяем, если клик был за пределами меню и изображения профиля
    if (!menu.contains(event.target) && !profileImage.contains(event.target)) {
        menu.classList.remove("open-menu"); // Закрываем меню
    }
    });


    function autoResize(textarea) {
        textarea.style.height = 'auto'; // Сбрасываем высоту
        textarea.style.height = textarea.scrollHeight + 'px'; // Устанавливаем новую высоту
    }
    document.addEventListener("DOMContentLoaded", function() {
    const notificationButton = document.getElementById("notification-button");
    const notificationPopup = document.getElementById("notification-popup");

    // Функция для переключения видимости окна
    function toggleNotification() {
        notificationPopup.classList.toggle("show");
    }

    // Открываем/закрываем уведомления при клике на иконку
    notificationButton.addEventListener("click", function(event) {
        event.stopPropagation(); // Останавливаем всплытие события, чтобы клик по кнопке не закрывал окно
        toggleNotification();
    });

    // Закрываем уведомления при клике в любом другом месте страницы
    document.addEventListener("click", function(event) {
        // Проверяем, находится ли клик вне области окна с уведомлениями
        if (!notificationPopup.contains(event.target) && notificationPopup.classList.contains("show")) {
            notificationPopup.classList.remove("show");
        }
    });
});

</script>
</body>
